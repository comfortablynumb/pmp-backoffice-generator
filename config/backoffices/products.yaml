id: "products-backoffice"
name: "Product Management"
description: "Manage products, inventory, and categories"

data_sources:
  products-db:
    type: database
    connection_string: "sqlite://products.db"
    db_type: sqlite

  categories-api:
    type: api
    base_url: "https://dummyjson.com"
    headers:
      Content-Type: "application/json"

sections:
  - id: "products"
    name: "Products"
    icon: "fa-box"
    actions:
      - id: "list-products"
        name: "List Products"
        action_type: list
        data_source: "categories-api"
        endpoint: "products"
        required_scopes: ["products:read"]
        fields:
          - id: "id"
            name: "ID"
            field_type: number
            required: false
            editable: false
            visible: true

          - id: "title"
            name: "Product Name"
            field_type: text
            required: true
            editable: true
            visible: true
            validation:
              min_length: 3
              max_length: 200

          - id: "description"
            name: "Description"
            field_type: textarea
            required: true
            editable: true
            visible: true
            validation:
              min_length: 10

          - id: "price"
            name: "Price"
            field_type: number
            required: true
            editable: true
            visible: true
            validation:
              min_value: 0

          - id: "category"
            name: "Category"
            field_type: text
            required: true
            editable: true
            visible: true

          - id: "brand"
            name: "Brand"
            field_type: text
            required: false
            editable: true
            visible: true

          - id: "stock"
            name: "Stock"
            field_type: number
            required: true
            editable: true
            visible: true
            default_value: 0
            validation:
              min_value: 0

      - id: "create-product"
        name: "Create Product"
        action_type: create
        data_source: "products-db"
        query: "INSERT INTO products (name, description, price, category, stock) VALUES (?, ?, ?, ?, ?)"
        required_scopes: ["products:write"]
        fields:
          - id: "title"
            name: "Product Name"
            field_type: text
            required: true
            editable: true
            visible: true

          - id: "description"
            name: "Description"
            field_type: textarea
            required: true
            editable: true
            visible: true

          - id: "price"
            name: "Price"
            field_type: number
            required: true
            editable: true
            visible: true
            default_value: 0

          - id: "category"
            name: "Category"
            field_type: select
            required: true
            editable: true
            visible: true
            validation:
              options:
                - "Electronics"
                - "Clothing"
                - "Food"
                - "Books"
                - "Home & Garden"

          - id: "stock"
            name: "Stock Quantity"
            field_type: number
            required: true
            editable: true
            visible: true
            default_value: 0

      - id: "update-product"
        name: "Update Product"
        action_type: update
        data_source: "products-db"
        query: "UPDATE products SET name = ?, description = ?, price = ?, category = ?, stock = ? WHERE id = ?"
        required_scopes: ["products:write"]
        fields:
          - id: "id"
            name: "ID"
            field_type: number
            required: true
            editable: false
            visible: true

          - id: "title"
            name: "Product Name"
            field_type: text
            required: true
            editable: true
            visible: true

          - id: "description"
            name: "Description"
            field_type: textarea
            required: true
            editable: true
            visible: true

          - id: "price"
            name: "Price"
            field_type: number
            required: true
            editable: true
            visible: true

          - id: "category"
            name: "Category"
            field_type: select
            required: true
            editable: true
            visible: true
            validation:
              options:
                - "Electronics"
                - "Clothing"
                - "Food"
                - "Books"
                - "Home & Garden"

          - id: "stock"
            name: "Stock Quantity"
            field_type: number
            required: true
            editable: true
            visible: true

      - id: "delete-product"
        name: "Delete Product"
        action_type: delete
        data_source: "products-db"
        query: "DELETE FROM products WHERE id = ?"
        required_scopes: ["products:delete"]
        fields: []

  - id: "categories"
    name: "Categories"
    icon: "fa-tags"
    actions:
      - id: "list-categories"
        name: "List Categories"
        action_type: list
        data_source: "categories-api"
        endpoint: "products/categories"
        required_scopes: ["categories:read"]
        fields:
          - id: "slug"
            name: "Category Slug"
            field_type: text
            required: true
            editable: false
            visible: true

          - id: "name"
            name: "Category Name"
            field_type: text
            required: true
            editable: true
            visible: true

          - id: "url"
            name: "URL"
            field_type: text
            required: false
            editable: false
            visible: true
